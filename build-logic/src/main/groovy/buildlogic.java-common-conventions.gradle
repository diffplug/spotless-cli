/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
	// Apply the java Plugin to add support for Java.
	id 'java'
	id 'buildlogic.spotless-java-conventions'
	id 'buildlogic.java-selfie-tests-conventions'
	id 'buildlogic.java-test-mockito-conventions'
}

repositories {
	// Use Maven Central for resolving dependencies.
	mavenCentral()
	// if we are in localdev, also use the local maven repository
	def isCI = providers.environmentVariable('CI').present
	if (!isCI) {
		mavenLocal()
	}
}

dependencies {
	constraints {
		// Define dependency versions as constraints
		implementation 'org.apache.commons:commons-text:1.12.0'
	}
	implementation libs.annotations
	implementation libs.bundles.spotless.libs
	implementation libs.bundles.durian.libs

	// logging
	implementation libs.slf4j.api
	runtimeOnly libs.slf4j.binding
	testRuntimeOnly libs.slf4j.binding

	testImplementation libs.bundles.test.libs
}

testing {
	suites {
		// Configure the built-in test suite
		test {
			// Use JUnit Jupiter test framework
			useJUnitJupiter(libs.versions.junit)
		}
	}
}

// Apply a specific Java toolchain to ease working on different environments.
java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(21)
	}
}
