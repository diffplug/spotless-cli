plugins {
	id 'buildlogic.java-library-conventions'
}

version = rootProject.version

dependencies {
	//
	//    implementation libs.bundles.maven.resolver.libs

	implementation( platform("org.apache.maven:maven-resolver-provider:3.9.11"))
	implementation "org.apache.maven:maven-resolver-provider"
	implementation "org.apache.maven.resolver:maven-resolver-api"
	implementation "org.apache.maven.resolver:maven-resolver-spi"
	implementation "org.apache.maven.resolver:maven-resolver-util"
	implementation "org.apache.maven.resolver:maven-resolver-impl"
	implementation "org.apache.maven.resolver:maven-resolver-connector-basic"
	implementation "org.apache.maven.resolver:maven-resolver-transport-file"
	implementation "org.apache.maven.resolver:maven-resolver-transport-http"
	implementation "org.apache.maven.resolver:maven-resolver-supplier:1.9.24"

	implementation libs.bundles.spotless.libs
}

tasks.named("test", Test) {
	// make sure test is rerun if the local maven test repo changes
	it.inputs.dir(layout.projectDirectory.dir("maven-test-repo"))

	// provide the path to the local maven test repo as a system property
	it.systemProperty("local.maven.repo.path", layout.projectDirectory.dir("maven-test-repo").asFile.absolutePath)
}
